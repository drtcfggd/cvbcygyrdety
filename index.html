<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ - æ™ºèƒ½AIå¯¹è¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e6e6e6;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 90px 40px, #ddd, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 160px 120px, #fff, rgba(0,0,0,0));
            background-repeat: repeat;
            background-size: 200px 100px;
            animation: starTwinkle 6s linear infinite;
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.8; }
        }

        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) translateX(50px);
                opacity: 0;
            }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 2rem;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .title {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #a8edea 0%, #fed6e3 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1.1rem;
            margin-bottom: 3rem;
            color: #b8b8b8;
            line-height: 1.6;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2.5rem;
            width: 100%;
            max-width: 600px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .welcome-text {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: #d1d1d1;
        }

        .input-group {
            margin-bottom: 1.5rem;
            text-align: left;
            width: 100%;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #e6e6e6;
            font-size: 0.9rem;
            text-align: left;
        }

        .input-field {
            width: 100%;
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            border-color: #a8edea;
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .scene-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            width: 100%;
        }

        .scene-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .scene-card:hover {
            transform: scale(1.03);
            background: rgba(255, 255, 255, 0.12);
        }

        .scene-card.selected {
            border-color: #a8edea;
            background: rgba(168, 237, 234, 0.1);
            box-shadow: 0 0 15px rgba(168, 237, 234, 0.2);
        }

        .scene-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #a8edea;
        }

        .scene-name {
            font-size: 1rem;
            color: #fff;
        }

        .scene-desc {
            font-size: 0.8rem;
            color: #b8b8b8;
            margin-top: 0.3rem;
        }

        .duration-options {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .duration-btn {
            padding: 0.8rem 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .duration-btn:hover {
            background: rgba(168, 237, 234, 0.1);
            border-color: #a8edea;
        }

        .duration-btn.selected {
            background: rgba(168, 237, 234, 0.2);
            border-color: #a8edea;
            color: #a8edea;
            box-shadow: 0 0 10px rgba(168, 237, 234, 0.3);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            color: #333;
            box-shadow: 0 4px 15px rgba(168, 237, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(168, 237, 234, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: #a8edea;
            border: 1px solid #a8edea;
        }

        .btn-secondary:hover {
            background: rgba(168, 237, 234, 0.1);
            transform: translateY(-2px);
        }

        .status {
            margin-top: 2rem;
            font-size: 0.9rem;
            color: #b8b8b8;
            display: none;
        }

        .status.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .relaxation-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(10, 15, 30, 0.95);
            z-index: 100;
        }

        .breathing-animation {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(168, 237, 234, 0.2), transparent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            animation: breathe 4s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(0.8); }
            50% { transform: scale(1.2); }
        }

        .relaxation-text {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-align: center;
            color: #a8edea;
        }

        .relaxation-instruction {
            font-size: 1.1rem;
            text-align: center;
            max-width: 600px;
            line-height: 1.8;
            color: #d1d1d1;
        }

        .timer {
            font-size: 2rem;
            font-weight: bold;
            margin: 1rem 0;
            color: #fed6e3;
        }

        .exit-btn {
            margin-top: 2rem;
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .exit-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(25, 30, 48, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalAppear 0.3s ease;
        }

        @keyframes modalAppear {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 1.5rem;
            color: #a8edea;
        }

        .close-btn {
            background: none;
            border: none;
            color: #b8b8b8;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #fff;
        }

        .modal-body {
            margin-bottom: 1.5rem;
        }

        .data-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .data-label {
            color: #b8b8b8;
        }

        .data-value {
            color: #fed6e3;
            font-weight: 500;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .modal-btn {
            padding: 0.7rem 1.5rem;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn-primary {
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            color: #333;
        }

        .modal-btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e6e6e6;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* AIèŠå¤©ç•Œé¢ */
        .chat-container {
            display: none;
            flex-direction: column;
            height: 100vh;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(10, 15, 30, 0.95);
            z-index: 100;
        }

        .chat-header {
            padding: 1.5rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-title {
            font-size: 1.5rem;
            color: #a8edea;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 1rem;
            border-radius: 15px;
            line-height: 1.5;
            animation: messageAppear 0.3s ease;
            word-wrap: break-word;
            white-space: pre-wrap;
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            background: linear-gradient(45deg, #a8edea, #87d8e5);
            color: #333;
            border-bottom-right-radius: 5px;
        }

        .ai-message {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            color: #e6e6e6;
            border-bottom-left-radius: 5px;
        }

        .chat-input-area {
            padding: 1.5rem;
            display: flex;
            gap: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-input {
            flex: 1;
            padding: 1rem;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-size: 1rem;
            outline: none;
        }

        .chat-input:focus {
            border-color: #a8edea;
        }

        .send-btn {
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            border: none;
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            color: #333;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(168, 237, 234, 0.3);
        }

        .back-btn {
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .title {
                font-size: 2rem;
            }

            .card {
                padding: 1.5rem;
            }

            .scene-options {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
                width: 100%;
            }

            .btn {
                width: 100%;
            }
            
            .modal-content {
                margin: 1rem;
                width: calc(100% - 2rem);
            }
            
            .chat-header {
                padding: 1rem;
            }
            
            .chat-messages {
                padding: 1rem;
            }
            
            .chat-input-area {
                padding: 1rem;
            }
            
            .message {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="background">
        <div class="stars"></div>
        <div class="floating-particles" id="particles"></div>
    </div>

    <div class="container">
        <div class="logo">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="45" fill="none" stroke="#a8edea" stroke-width="2" stroke-dasharray="5,5"/>
                <path d="M30,50 Q50,30 70,50 T30,50" fill="none" stroke="#fed6e3" stroke-width="3"/>
            </svg>
        </div>

        <h1 class="title">å¹»å¢ƒæ¼«æ¸¸å‘å¯¼</h1>
        <p class="subtitle">å¼€å¯æ‚¨çš„æ·±åº¦æ”¾æ¾ä¹‹æ—…ï¼Œè®©å¿ƒçµå›å½’å®é™</p>

        <div class="card">
            <p class="welcome-text">
                æ‚¨å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„AIå‘å¯¼ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥æš‚æ—¶æ”¾ä¸‹çƒ¦æ¼ï¼Œè·Ÿéšæˆ‘çš„å¼•å¯¼ï¼Œè¿›å…¥ä¸€ä¸ªå®é™çš„å¹»å¢ƒä¸–ç•Œã€‚
                è®©æˆ‘ä»¬å¼€å§‹ä¸€æ®µæ”¾æ¾èº«å¿ƒçš„æ—…ç¨‹å§ã€‚
            </p>

            <div class="input-group">
                <label for="mood">æ‚¨ç°åœ¨çš„å¿ƒæƒ…å¦‚ä½•ï¼Ÿ</label>
                <input type="text" id="mood" class="input-field" placeholder="ä¾‹å¦‚ï¼šæœ‰äº›ç–²æƒ«ã€æ„Ÿåˆ°ç„¦è™‘ã€æƒ³è¦æ”¾æ¾..." />
            </div>

            <div class="input-group">
                <label>é€‰æ‹©æ‚¨æƒ³è¦çš„æ”¾æ¾åœºæ™¯</label>
                <div class="scene-options">
                    <div class="scene-card" data-scene="forest">
                        <div class="scene-icon">ğŸŒ³</div>
                        <div class="scene-name">é™è°§æ£®æ—</div>
                        <div class="scene-desc">è†å¬é¸Ÿé¸£ï¼Œæ„Ÿå—å¾®é£</div>
                    </div>
                    <div class="scene-card" data-scene="ocean">
                        <div class="scene-icon">ğŸŒŠ</div>
                        <div class="scene-name">å®é™æµ·æ»©</div>
                        <div class="scene-desc">æ„Ÿå—æµ·æµªï¼Œæ²æµ´é˜³å…‰</div>
                    </div>
                    <div class="scene-card" data-scene="mountain">
                        <div class="scene-icon">ğŸ”ï¸</div>
                        <div class="scene-name">é«˜å±±ä¹‹å·…</div>
                        <div class="scene-desc">äº‘æµ·ç¿»è…¾ï¼Œå¿ƒæ—·ç¥æ€¡</div>
                    </div>
                    <div class="scene-card" data-scene="starlight">
                        <div class="scene-icon">âœ¨</div>
                        <div class="scene-name">æ˜Ÿç©ºä¹‹ä¸‹</div>
                        <div class="scene-desc">ä»°æœ›æ˜Ÿç©ºï¼Œæ€ç»ªé£˜è¿œ</div>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label>é€‰æ‹©æ”¾æ¾æ—¶é•¿</label>
                <div class="duration-options">
                    <button class="duration-btn" data-time="5">5åˆ†é’Ÿ</button>
                    <button class="duration-btn" data-time="10">10åˆ†é’Ÿ</button>
                    <button class="duration-btn selected" data-time="15">15åˆ†é’Ÿ</button>
                    <button class="duration-btn" data-time="20">20åˆ†é’Ÿ</button>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="start-btn">å¼€å§‹æ¼«æ¸¸</button>
                <button class="btn btn-secondary" id="demo-btn">ä½“éªŒæ¼”ç¤º</button>
                <button class="btn btn-secondary" id="chat-btn">AIå¯¹è¯</button>
            </div>

            <div class="status" id="status">
                æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡ä¸“å±çš„æ”¾æ¾ä½“éªŒ...è¯·ç¨å€™
            </div>
        </div>
    </div>

    <div class="relaxation-screen" id="relaxation-screen">
        <div class="breathing-animation"></div>
        <div class="relaxation-text" id="relaxation-text">å¼€å§‹æ·±å‘¼å¸</div>
        <div class="relaxation-instruction" id="relaxation-instruction">
            è¯·è·Ÿéšæˆ‘çš„å¼•å¯¼ï¼Œè¿›è¡Œæ·±å‘¼å¸ç»ƒä¹ ã€‚å¸æ°”4ç§’ï¼Œå±æ¯4ç§’ï¼Œå‘¼æ°”6ç§’ã€‚
        </div>
        <div class="timer" id="timer">15:00</div>
        <button class="exit-btn" id="exit-btn">ç»“æŸæ¼«æ¸¸</button>
    </div>

    <!-- AIèŠå¤©ç•Œé¢ -->
    <div class="chat-container" id="chat-container">
        <div class="chat-header">
            <h2 class="chat-title">å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ - AIå¯¹è¯</h2>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message ai-message">
                æ‚¨å¥½ï¼æˆ‘æ˜¯å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚æ‚¨å¯ä»¥å’Œæˆ‘èŠèŠæ‚¨å½“å‰çš„å¿ƒæƒ…ã€æƒ³è¦æ”¾æ¾çš„åœºæ™¯ï¼Œæˆ–è€…ä»»ä½•æ‚¨æƒ³åˆ†äº«çš„å†…å®¹ã€‚æˆ‘ä¼šé™ªä¼´æ‚¨åº¦è¿‡ä¸€ä¸ªå®é™çš„æ—¶å…‰ã€‚
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chat-input" placeholder="è¾“å…¥æ‚¨çš„æ¶ˆæ¯...">
            <button class="send-btn" id="send-btn">å‘é€</button>
        </div>
        <div style="text-align: center;">
            <button class="back-btn" id="back-btn">è¿”å›ä¸»ç•Œé¢</button>
        </div>
    </div>

    <!-- æ•°æ®å±•ç¤ºå¼¹çª— -->
    <div class="modal" id="data-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">åœºæ™¯è¯¦æƒ…</h2>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-btn">å–æ¶ˆ</button>
                <button class="modal-btn modal-btn-primary" id="select-btn">é€‰æ‹©æ­¤åœºæ™¯</button>
            </div>
        </div>
    </div>

    <script>
        // åˆ›å»ºæµ®åŠ¨ç²’å­
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // éšæœºä½ç½®
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                particle.style.animationDelay = Math.random() * 15 + 's';
                
                // éšæœºå¤§å°
                const size = Math.random() * 3 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // éšæœºåŠ¨ç”»æ—¶é•¿
                const duration = Math.random() * 10 + 10;
                particle.style.animationDuration = duration + 's';
                
                container.appendChild(particle);
            }
        }
        
        // åœºæ™¯é€‰æ‹©äº¤äº’
        document.querySelectorAll('.scene-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.scene-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // æ—¶é•¿é€‰æ‹©äº¤äº’
        document.querySelectorAll('.duration-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.duration-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
        
        // å¼€å§‹æŒ‰é’®äº¤äº’
        document.getElementById('start-btn').addEventListener('click', function() {
            const moodInput = document.getElementById('mood').value;
            const selectedScene = document.querySelector('.scene-card.selected');
            const selectedTime = document.querySelector('.duration-btn.selected').dataset.time;
            
            if (!selectedScene) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªæ”¾æ¾åœºæ™¯');
                return;
            }
            
            const status = document.getElementById('status');
            status.classList.add('show');
            status.textContent = 'æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡ä¸“å±çš„æ”¾æ¾ä½“éªŒ...è¯·ç¨å€™';
            
            // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
            setTimeout(() => {
                status.textContent = 'æ”¾æ¾ä½“éªŒå·²å¼€å§‹ï¼Œç¥æ‚¨æ—…é€”æ„‰å¿«...';
                
                // 2ç§’ååˆ‡æ¢åˆ°æ”¾æ¾ç•Œé¢
                setTimeout(() => {
                    showRelaxationScreen(selectedTime);
                }, 2000);
            }, 1500);
        });
        
        // æ¼”ç¤ºæŒ‰é’®
        document.getElementById('demo-btn').addEventListener('click', function() {
            document.getElementById('mood').value = 'å¥½å¥‡';
            document.querySelector('.scene-card[data-scene="starlight"]').click();
            document.querySelector('.duration-btn[data-time="5"]').click();
            
            setTimeout(() => {
                document.getElementById('start-btn').click();
            }, 500);
        });
        
        // AIå¯¹è¯æŒ‰é’®
        document.getElementById('chat-btn').addEventListener('click', function() {
            document.querySelector('.container').style.display = 'none';
            document.getElementById('chat-container').style.display = 'flex';
        });
        
        // æ˜¾ç¤ºæ”¾æ¾ç•Œé¢
        function showRelaxationScreen(duration) {
            document.querySelector('.container').style.display = 'none';
            document.getElementById('relaxation-screen').style.display = 'flex';
            
            // è®¾ç½®å€’è®¡æ—¶
            let timeLeft = parseInt(duration) * 60; // è½¬æ¢ä¸ºç§’
            updateTimer(timeLeft);
            
            // å¼€å§‹å€’è®¡æ—¶
            const timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer(timeLeft);
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    document.getElementById('relaxation-text').textContent = 'æ”¾æ¾æ—¶é—´ç»“æŸ';
                    document.getElementById('relaxation-instruction').textContent = 'æ„Ÿè°¢æ‚¨ä½“éªŒå¹»å¢ƒæ¼«æ¸¸å‘å¯¼ï¼Œå¸Œæœ›æ‚¨æ„Ÿåˆ°æ›´åŠ å¹³é™ä¸æ”¾æ¾ã€‚';
                    
                    setTimeout(() => {
                        document.getElementById('exit-btn').textContent = 'è¿”å›ä¸»ç•Œé¢';
                    }, 3000);
                }
            }, 1000);
        }
        
        // æ›´æ–°è®¡æ—¶å™¨æ˜¾ç¤º
        function updateTimer(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
        
        // ç»“æŸæ”¾æ¾ä½“éªŒ
        document.getElementById('exit-btn').addEventListener('click', function() {
            document.querySelector('.container').style.display = 'flex';
            document.getElementById('relaxation-screen').style.display = 'none';
            
            // é‡ç½®è¡¨å•
            document.getElementById('mood').value = '';
            document.querySelectorAll('.scene-card').forEach(c => c.classList.remove('selected'));
            document.querySelectorAll('.duration-btn').forEach(b => b.classList.remove('selected'));
            document.querySelector('.duration-btn[data-time="15"]').classList.add('selected');
            document.getElementById('status').classList.remove('show');
            
            // é‡æ–°é€‰æ‹©é»˜è®¤åœºæ™¯
            setTimeout(() => {
                document.querySelector('.scene-card').click();
            }, 100);
        });
        
        // è¿”å›ä¸»ç•Œé¢
        document.getElementById('back-btn').addEventListener('click', function() {
            document.querySelector('.container').style.display = 'flex';
            document.getElementById('chat-container').style.display = 'none';
            
            // æ¸…ç©ºèŠå¤©è®°å½•
            document.getElementById('chat-messages').innerHTML = `
                <div class="message ai-message">
                    æ‚¨å¥½ï¼æˆ‘æ˜¯å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚æ‚¨å¯ä»¥å’Œæˆ‘èŠèŠæ‚¨å½“å‰çš„å¿ƒæƒ…ã€æƒ³è¦æ”¾æ¾çš„åœºæ™¯ï¼Œæˆ–è€…ä»»ä½•æ‚¨æƒ³åˆ†äº«çš„å†…å®¹ã€‚æˆ‘ä¼šé™ªä¼´æ‚¨åº¦è¿‡ä¸€ä¸ªå®é™çš„æ—¶å…‰ã€‚
                </div>
            `;
        });
        
        // å¼¹çª—ç›¸å…³åŠŸèƒ½
        const modal = document.getElementById('data-modal');
        const modalBody = document.getElementById('modal-body');
        const closeModal = document.getElementById('close-modal');
        const cancelBtn = document.getElementById('cancel-btn');
        const selectBtn = document.getElementById('select-btn');
        
        // åœºæ™¯æ•°æ®
        const sceneData = {
            forest: {
                name: 'é™è°§æ£®æ—',
                description: 'åœ¨é™è°§çš„æ£®æ—ä¸­ï¼Œæ‚¨å¯ä»¥è†å¬é¸Ÿé¸£å£°ã€æºªæ°´å£°å’Œé£å¹æ ‘å¶çš„å£°éŸ³ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„å®é™ä¸å’Œè°ã€‚',
                benefits: 'é™ä½å‹åŠ›è·å°”è’™ï¼Œæå‡æ³¨æ„åŠ›ï¼Œå¢å¼ºå…ç–«ç³»ç»Ÿ',
                duration: 'å»ºè®®15-30åˆ†é’Ÿ',
                elements: 'æ ‘æœ¨ã€é¸Ÿé¸£ã€å¾®é£ã€é˜³å…‰æ–‘é©³'
            },
            ocean: {
                name: 'å®é™æµ·æ»©',
                description: 'åœ¨å®é™çš„æµ·æ»©ä¸Šï¼Œæ‚¨å¯ä»¥æ„Ÿå—æµ·æµªæ‹æ‰“å²¸è¾¹çš„èŠ‚å¥ï¼Œè†å¬æµ·é£çš„å£°éŸ³ï¼Œäº«å—æµ·å¤©ä¸€è‰²çš„å£®ä¸½æ™¯è‰²ã€‚',
                benefits: 'æ·±åº¦æ”¾æ¾ï¼Œæ”¹å–„ç¡çœ ï¼Œç¼“è§£ç„¦è™‘',
                duration: 'å»ºè®®20-40åˆ†é’Ÿ',
                elements: 'æµ·æµªã€æµ·é£ã€é˜³å…‰ã€æ²™æ»©'
            },
            mountain: {
                name: 'é«˜å±±ä¹‹å·…',
                description: 'åœ¨é«˜å±±ä¹‹å·…ï¼Œæ‚¨å¯ä»¥ä¿¯ç°äº‘æµ·ç¿»è…¾ï¼Œå‘¼å¸æ¸…æ–°çš„ç©ºæ°”ï¼Œæ„Ÿå—å±±å³°çš„é›„ä¼Ÿä¸å®é™ã€‚',
                benefits: 'æå‡ä¸“æ³¨åŠ›ï¼Œå¢å¼ºè‚ºæ´»é‡ï¼Œå‡€åŒ–å¿ƒçµ',
                duration: 'å»ºè®®15-25åˆ†é’Ÿ',
                elements: 'äº‘æµ·ã€å±±å³°ã€æ¸…é£ã€è¿œæ™¯'
            },
            starlight: {
                name: 'æ˜Ÿç©ºä¹‹ä¸‹',
                description: 'åœ¨æ˜Ÿç©ºä¹‹ä¸‹ï¼Œæ‚¨å¯ä»¥ä»°æœ›ç’€ç’¨çš„æ˜Ÿè¾°ï¼Œæ„Ÿå—å®‡å®™çš„æµ©ç€šä¸ç¥ç§˜ï¼Œè®©æ€ç»ªåœ¨æ— å çš„å¤œç©ºä¸­è‡ªç”±é£˜è¡ã€‚',
                benefits: 'ä¿ƒè¿›å†¥æƒ³ï¼Œæå‡åˆ›é€ åŠ›ï¼Œç¼“è§£å¿ƒç†å‹åŠ›',
                duration: 'å»ºè®®20-35åˆ†é’Ÿ',
                elements: 'ç¹æ˜Ÿã€æœˆå…‰ã€å¤œç©ºã€å®é™'
            }
        };
        
        // ä¸ºæ¯ä¸ªåœºæ™¯å¡ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶æ¥æ˜¾ç¤ºå¼¹çª—
        document.querySelectorAll('.scene-card').forEach(card => {
            card.addEventListener('click', function() {
                const sceneId = this.dataset.scene;
                const sceneInfo = sceneData[sceneId];
                
                // å¡«å……å¼¹çª—å†…å®¹
                modalBody.innerHTML = `
                    <div class="data-item">
                        <span class="data-label">åœºæ™¯åç§°:</span>
                        <span class="data-value">${sceneInfo.name}</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">åœºæ™¯æè¿°:</span>
                        <span class="data-value">${sceneInfo.description}</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">å¥åº·ç›Šå¤„:</span>
                        <span class="data-value">${sceneInfo.benefits}</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">å»ºè®®æ—¶é•¿:</span>
                        <span class="data-value">${sceneInfo.duration}</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">åœºæ™¯å…ƒç´ :</span>
                        <span class="data-value">${sceneInfo.elements}</span>
                    </div>
                `;
                
                // æ˜¾ç¤ºå¼¹çª—
                modal.style.display = 'flex';
                
                // è®¾ç½®é€‰ä¸­çš„åœºæ™¯IDï¼Œä¾›é€‰æ‹©æŒ‰é’®ä½¿ç”¨
                selectBtn.dataset.scene = sceneId;
            });
        });
        
        // å…³é—­å¼¹çª—
        closeModal.addEventListener('click', closeDataModal);
        cancelBtn.addEventListener('click', closeDataModal);
        
        function closeDataModal() {
            modal.style.display = 'none';
        }
        
        // é€‰æ‹©åœºæ™¯
        selectBtn.addEventListener('click', function() {
            const sceneId = this.dataset.scene;
            // é«˜äº®é€‰ä¸­çš„åœºæ™¯å¡ç‰‡
            document.querySelectorAll('.scene-card').forEach(card => {
                card.classList.remove('selected');
                if (card.dataset.scene === sceneId) {
                    card.classList.add('selected');
                }
            });
            
            // å…³é—­å¼¹çª—
            modal.style.display = 'none';
        });
        
        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // AIèŠå¤©åŠŸèƒ½
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        
        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
                addMessage(message, 'user');
                chatInput.value = '';
                
                // æ¨¡æ‹ŸAIå›å¤
                setTimeout(() => {
                    const aiResponse = generateAIResponse(message);
                    addMessage(aiResponse, 'ai');
                }, 1000);
            }
        }
        
        // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©è®°å½•
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // ç”ŸæˆAIå›å¤
        function generateAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();
            
            // é—®å€™ç±»
            if (lowerMessage.includes('ä½ å¥½') || lowerMessage.includes('æ‚¨å¥½') || lowerMessage.includes('hi') || lowerMessage.includes('hello')) {
                const greetings = [
                    'æ‚¨å¥½ï¼æˆ‘æ˜¯å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚æ‚¨å¯ä»¥å’Œæˆ‘èŠèŠæ‚¨å½“å‰çš„å¿ƒæƒ…ï¼Œæˆ–è€…é€‰æ‹©ä¸€ä¸ªæ”¾æ¾çš„åœºæ™¯ã€‚å®é™çš„ç¯å¢ƒæœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°äº¤æµã€‚',
                    'æ‚¨å¥½ï¼æ¬¢è¿æ¥åˆ°å¹»å¢ƒæ¼«æ¸¸å‘å¯¼ã€‚æˆ‘æ˜¯æ‚¨çš„AIä¼™ä¼´ï¼Œéšæ—¶å‡†å¤‡é™ªä¼´æ‚¨åº¦è¿‡ä¸€æ®µå®é™çš„æ—¶å…‰ã€‚æ‚¨ä»Šå¤©æƒ³èŠäº›ä»€ä¹ˆå‘¢ï¼Ÿ',
                    'æ‚¨å¥½ï¼å¾ˆé«˜å…´è§åˆ°æ‚¨ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥æš‚æ—¶æ”¾ä¸‹çƒ¦æ¼ï¼Œä¸æˆ‘åˆ†äº«æ‚¨çš„æ„Ÿå—æˆ–æƒ³æ³•ã€‚è®©æˆ‘ä»¬ä¸€èµ·è¿›å…¥å®é™çš„å¹»å¢ƒä¸–ç•Œå§ã€‚'
                ];
                return greetings[Math.floor(Math.random() * greetings.length)];
            }
            
            // æ”¾æ¾/å†¥æƒ³/å¹³é™ç›¸å…³
            if (lowerMessage.includes('æ”¾æ¾') || lowerMessage.includes('å†¥æƒ³') || lowerMessage.includes('å¹³é™') || lowerMessage.includes('å®‰é™') || lowerMessage.includes('å®é™')) {
                const relaxResponses = [
                    'æ”¾æ¾æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼æˆ‘ä»¬æœ‰é™è°§æ£®æ—ã€å®é™æµ·æ»©ã€é«˜å±±ä¹‹å·…å’Œæ˜Ÿç©ºä¹‹ä¸‹å››ç§åœºæ™¯ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ‚¨å–œæ¬¢çš„åœºæ™¯ï¼Œæˆ‘ä¼šå¼•å¯¼æ‚¨è¿›è¡Œæ·±åº¦æ”¾æ¾ã€‚è¿™äº›åœºæ™¯éƒ½æœ‰åŠ©äºç¼“è§£å‹åŠ›ï¼Œæå‡ä¸“æ³¨åŠ›ã€‚',
                    'å†¥æƒ³å’Œæ”¾æ¾å¯¹èº«å¿ƒå¥åº·éå¸¸æœ‰ç›Šã€‚åœ¨å®é™çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°å¤„ç†æƒ…ç»ªï¼Œé‡Šæ”¾å‹åŠ›ã€‚æ‚¨æƒ³é€‰æ‹©å“ªä¸ªåœºæ™¯å¼€å§‹æˆ‘ä»¬çš„æ”¾æ¾ä¹‹æ—…å‘¢ï¼Ÿ',
                    'å®é™çš„ç¯å¢ƒæœ‰åŠ©äºæˆ‘ä»¬çš„å¿ƒçµå›å½’å¹³é™ã€‚é€šè¿‡æ·±å‘¼å¸å’Œå†¥æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ä¸å†…å¿ƒå¯¹è¯ã€‚æ‚¨è§‰å¾—å“ªä¸ªåœºæ™¯é€‚åˆæ‚¨ç°åœ¨çš„å¿ƒæƒ…ï¼Ÿ'
                ];
                return relaxResponses[Math.floor(Math.random() * relaxResponses.length)];
            }
            
            // æ£®æ—ç›¸å…³
            if (lowerMessage.includes('æ£®æ—') || lowerMessage.includes('æ ‘æ—') || lowerMessage.includes('æ ‘æœ¨') || lowerMessage.includes('é¸Ÿé¸£') || lowerMessage.includes('è‡ªç„¶')) {
                const forestResponses = [
                    'é™è°§æ£®æ—æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é€‰æ‹©ï¼åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥è†å¬é¸Ÿé¸£å£°ã€æºªæ°´å£°å’Œé£å¹æ ‘å¶çš„å£°éŸ³ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„å®é™ä¸å’Œè°ã€‚æ£®æ—ä¸­çš„è´Ÿç¦»å­æœ‰åŠ©äºå‡€åŒ–ç©ºæ°”ï¼Œæå‡å¿ƒæƒ…ã€‚',
                    'æ£®æ—æ˜¯å¤§è‡ªç„¶çš„ç–—æ„ˆåœºæ‰€ã€‚åœ¨é™è°§æ£®æ—ä¸­ï¼Œæ‚¨å¯ä»¥æ„Ÿå—åˆ°æ ‘æœ¨çš„ç”Ÿå‘½åŠ›ï¼Œè†å¬è‡ªç„¶çš„å£°éŸ³ï¼Œè®©èº«å¿ƒå®Œå…¨æ”¾æ¾ã€‚è¿™æ˜¯ç¼“è§£å‹åŠ›å’Œç„¦è™‘çš„ç†æƒ³ç¯å¢ƒã€‚',
                    'æ ‘æœ¨å’Œè‡ªç„¶çš„å£°éŸ³å…·æœ‰å¼ºå¤§çš„ç–—æ„ˆæ•ˆæœã€‚åœ¨æ£®æ—åœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥æƒ³è±¡è‡ªå·±æ¼«æ­¥åœ¨ç»¿æ„ç›ç„¶çš„å°å¾„ä¸Šï¼Œå‘¼å¸æ¸…æ–°çš„ç©ºæ°”ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„å®é™ã€‚'
                ];
                return forestResponses[Math.floor(Math.random() * forestResponses.length)];
            }
            
            // æµ·æ´‹/æµ·æ»©ç›¸å…³
            if (lowerMessage.includes('æµ·æ»©') || lowerMessage.includes('æµ·æ´‹') || lowerMessage.includes('æµ·æµª') || lowerMessage.includes('æ²™æ»©') || lowerMessage.includes('æµ·æ°´')) {
                const oceanResponses = [
                    'å®é™æµ·æ»©æ˜¯æ”¾æ¾èº«å¿ƒçš„ç»ä½³åœºæ‰€ï¼æ‚¨å¯ä»¥æ„Ÿå—æµ·æµªæ‹æ‰“å²¸è¾¹çš„èŠ‚å¥ï¼Œè†å¬æµ·é£çš„å£°éŸ³ï¼Œäº«å—æµ·å¤©ä¸€è‰²çš„å£®ä¸½æ™¯è‰²ã€‚æµ·æµªçš„å£°éŸ³æœ‰åŠ©äºè°ƒèŠ‚å‘¼å¸ï¼Œå¸¦æ¥å¹³é™ã€‚',
                    'æµ·æ´‹å…·æœ‰å¤©ç„¶çš„ç–—æ„ˆåŠ›é‡ã€‚åœ¨æµ·æ»©åœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥æƒ³è±¡è‡ªå·±èµ¤è„šèµ°åœ¨æŸ”è½¯çš„æ²™æ»©ä¸Šï¼Œæ„Ÿå—æµ·é£çš„è½»æŠšï¼Œè†å¬æµ·æµªçš„éŸµå¾‹ã€‚è¿™æ˜¯ç¼“è§£ç„¦è™‘çš„å®Œç¾é€‰æ‹©ã€‚',
                    'æµ·æµªçš„å£°éŸ³è¢«ç§°ä¸ºå¤§è‡ªç„¶çš„ç™½å™ªéŸ³ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ”¾æ¾å’Œé›†ä¸­æ³¨æ„åŠ›ã€‚åœ¨å®é™æµ·æ»©åœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥å®Œå…¨æ²‰æµ¸åœ¨æµ·æ´‹çš„å®é™ä¸­ã€‚'
                ];
                return oceanResponses[Math.floor(Math.random() * oceanResponses.length)];
            }
            
            // å±±å³°ç›¸å…³
            if (lowerMessage.includes('é«˜å±±') || lowerMessage.includes('å±±é¡¶') || lowerMessage.includes('å±±å³°') || lowerMessage.includes('äº‘æµ·') || lowerMessage.includes('è¿œå±±')) {
                const mountainResponses = [
                    'é«˜å±±ä¹‹å·…èƒ½è®©æ‚¨ä¿¯ç°äº‘æµ·ç¿»è…¾ï¼Œå‘¼å¸æ¸…æ–°çš„ç©ºæ°”ï¼Œæ„Ÿå—å±±å³°çš„é›„ä¼Ÿä¸å®é™ã€‚è¿™æ˜¯ä¸€ä¸ªæå‡ä¸“æ³¨åŠ›ã€å‡€åŒ–å¿ƒçµçš„å¥½åœ°æ–¹ã€‚é«˜æµ·æ‹”çš„æ¸…æ–°ç©ºæ°”æœ‰åŠ©äºæ·±å‘¼å¸ã€‚',
                    'åœ¨é«˜å±±ä¹‹å·…ï¼Œæ‚¨å¯ä»¥æ„Ÿå—åˆ°å¤§è‡ªç„¶çš„å®ä¼Ÿä¸å®é™ã€‚äº‘æµ·ç¿»è…¾çš„æ™¯è±¡èƒ½è®©äººå¿ƒæ—·ç¥æ€¡ï¼Œè¿œç¦»å°˜ä¸–çš„å–§åš£ã€‚è¿™æ˜¯ä¸€ä¸ªè¿›è¡Œæ·±åº¦å†¥æƒ³çš„ç†æƒ³åœºæ‰€ã€‚',
                    'å±±å³°çš„å®é™èƒ½è®©äººæ„Ÿå—åˆ°å†…å¿ƒçš„å¹³é™ã€‚åœ¨é«˜å±±ä¹‹å·…åœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥æƒ³è±¡è‡ªå·±ç«™åœ¨å±±å³°ä¸Šï¼Œä¿¯ç°å£®ä¸½æ™¯è‰²ï¼Œæ„Ÿå—å¿ƒçµçš„å‡€åŒ–ã€‚'
                ];
                return mountainResponses[Math.floor(Math.random() * mountainResponses.length)];
            }
            
            // æ˜Ÿç©ºç›¸å…³
            if (lowerMessage.includes('æ˜Ÿç©º') || lowerMessage.includes('å¤œæ™š') || lowerMessage.includes('æ˜Ÿæ˜Ÿ') || lowerMessage.includes('æœˆäº®') || lowerMessage.includes('å®‡å®™')) {
                const starlightResponses = [
                    'åœ¨æ˜Ÿç©ºä¹‹ä¸‹ï¼Œæ‚¨å¯ä»¥ä»°æœ›ç’€ç’¨çš„æ˜Ÿè¾°ï¼Œæ„Ÿå—å®‡å®™çš„æµ©ç€šä¸ç¥ç§˜ï¼Œè®©æ€ç»ªåœ¨æ— å çš„å¤œç©ºä¸­è‡ªç”±é£˜è¡ã€‚æ˜Ÿç©ºå†¥æƒ³æœ‰åŠ©äºæå‡åˆ›é€ åŠ›å’Œå†…çœã€‚',
                    'å¤œç©ºä¸­çš„ç¹æ˜Ÿè®©äººæ„Ÿå—åˆ°å®‡å®™çš„å®é™ä¸ç¥ç§˜ã€‚åœ¨æ˜Ÿç©ºä¹‹ä¸‹åœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥è¿›è¡Œæ·±åº¦å†¥æƒ³ï¼Œè®©æ€ç»ªéšç€æ˜Ÿå…‰é£˜å‘è¿œæ–¹ï¼Œé‡Šæ”¾å†…å¿ƒçš„å‹åŠ›ã€‚',
                    'æ˜Ÿç©ºæ˜¯å¤§è‡ªç„¶æœ€ç¾ä¸½çš„å†¥æƒ³åœºæ‰€ä¹‹ä¸€ã€‚åœ¨å®é™çš„å¤œç©ºä¸‹ï¼Œæ‚¨å¯ä»¥æ€è€ƒç”Ÿå‘½çš„æ„ä¹‰ï¼Œæ„Ÿå—ä¸å®‡å®™çš„è¿æ¥ï¼Œè·å¾—å†…å¿ƒçš„å¹³é™ã€‚'
                ];
                return starlightResponses[Math.floor(Math.random() * starlightResponses.length)];
            }
            
            // å‹åŠ›/ç„¦è™‘/çƒ¦æ¼ç›¸å…³
            if (lowerMessage.includes('å‹åŠ›') || lowerMessage.includes('ç„¦è™‘') || lowerMessage.includes('çƒ¦æ¼') || lowerMessage.includes('ç´§å¼ ') || lowerMessage.includes('ä¸å®‰') || lowerMessage.includes('å›°æ‰°')) {
                const stressResponses = [
                    'æˆ‘ç†è§£æ‚¨ç°åœ¨çš„æ„Ÿå—ã€‚å‹åŠ›å’Œç„¦è™‘æ˜¯ç°ä»£ç”Ÿæ´»ä¸­å¸¸è§çš„æŒ‘æˆ˜ã€‚é€šè¿‡æ·±å‘¼å¸å’Œå†¥æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·ç¼“è§£è¿™äº›ä¸é€‚ã€‚é€‰æ‹©ä¸€ä¸ªæ‚¨å–œæ¬¢çš„åœºæ™¯ï¼Œè®©æˆ‘ä»¬å¼€å§‹æ”¾æ¾ä¹‹æ—…å§ã€‚',
                    'æ„Ÿå—åˆ°å‹åŠ›æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œé‡è¦çš„æ˜¯å­¦ä¼šå¦‚ä½•åº”å¯¹ã€‚åœ¨å®é™çš„ç¯å¢ƒä¸­è¿›è¡Œæ·±å‘¼å¸ç»ƒä¹ ï¼Œå¯ä»¥æœ‰æ•ˆç¼“è§£ç„¦è™‘ã€‚æ‚¨æƒ³é€‰æ‹©å“ªä¸ªåœºæ™¯æ¥å¸®åŠ©æ‚¨æ”¾æ¾å‘¢ï¼Ÿ',
                    'æ¯ä¸ªäººéƒ½ä¼šæœ‰å‹åŠ›å’Œç„¦è™‘çš„æ—¶åˆ»ï¼Œè¿™æ˜¯äººä¹‹å¸¸æƒ…ã€‚é€šè¿‡å†¥æƒ³å’Œæ”¾æ¾ç»ƒä¹ ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¼šæ›´å¥½åœ°ç®¡ç†æƒ…ç»ªã€‚è®©æˆ‘ä»¬ä¸€èµ·åˆ›é€ ä¸€ä¸ªå®é™çš„ç©ºé—´æ¥å¹³å¤å¿ƒæƒ…ã€‚'
                ];
                return stressResponses[Math.floor(Math.random() * stressResponses.length)];
            }
            
            // æ„Ÿè°¢ç›¸å…³
            if (lowerMessage.includes('æ„Ÿè°¢') || lowerMessage.includes('è°¢è°¢') || lowerMessage.includes('æ„Ÿæ¿€')) {
                const thanksResponses = [
                    'ä¸å®¢æ°”ï¼å¾ˆé«˜å…´èƒ½å¸®åŠ©åˆ°æ‚¨ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„æ”¾æ¾æŒ‡å¯¼ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚æˆ‘ä¼šä¸€ç›´åœ¨è¿™é‡Œé™ªä¼´æ‚¨ã€‚',
                    'æ„Ÿè°¢æ‚¨çš„ä¿¡ä»»ï¼èƒ½å¤Ÿä¸ºæ‚¨æä¾›å¸®åŠ©æ˜¯æˆ‘çš„è£å¹¸ã€‚å¦‚æœæ‚¨è§‰å¾—éœ€è¦æ›´å¤šçš„æ”¾æ¾æ—¶é—´ï¼Œéšæ—¶å¯ä»¥å›æ¥æ‰¾æˆ‘ã€‚',
                    'æ‚¨å¤ªå®¢æ°”äº†ï¼æˆ‘å¾ˆé«˜å…´èƒ½æˆä¸ºæ‚¨æ”¾æ¾æ—…ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚è®°å¾—ï¼Œæ— è®ºä½•æ—¶æ„Ÿåˆ°å‹åŠ›ï¼Œéƒ½å¯ä»¥å›æ¥æ‰¾æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·æ”¾æ¾èº«å¿ƒã€‚'
                ];
                return thanksResponses[Math.floor(Math.random() * thanksResponses.length)];
            }
            
            // å‘Šåˆ«ç›¸å…³
            if (lowerMessage.includes('å†è§') || lowerMessage.includes('æ‹œæ‹œ') || lowerMessage.includes('ç»“æŸ') || lowerMessage.includes('ä¸‹æ¬¡')) {
                const goodbyeResponses = [
                    'å†è§ï¼å¸Œæœ›æ‚¨ä»Šå¤©è¿‡å¾—æ„‰å¿«ã€‚è®°å¾—ï¼Œæ— è®ºä½•æ—¶æ„Ÿåˆ°å‹åŠ›ï¼Œéƒ½å¯ä»¥å›æ¥æ‰¾æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·æ”¾æ¾èº«å¿ƒã€‚ç¥æ‚¨æ‹¥æœ‰ç¾å¥½çš„ä¸€å¤©ï¼',
                    'å¾ˆé«˜å…´èƒ½ä¸æ‚¨äº¤æµï¼å¦‚æœæ‚¨éœ€è¦æ›´å¤šçš„æ”¾æ¾æ—¶é—´ï¼Œéšæ—¶å¯ä»¥å›æ¥ã€‚æ„¿æ‚¨å¸¦ç€å®é™çš„å¿ƒæƒ…ç¦»å¼€ï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ã€‚',
                    'æ„Ÿè°¢æ‚¨çš„é™ªä¼´ï¼å¸Œæœ›æˆ‘ä»¬çš„å¯¹è¯å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚è®°å¾—ä¿æŒå†…å¿ƒçš„å¹³é™ï¼Œæˆ‘ä»¬éšæ—¶æ¬¢è¿æ‚¨çš„å½’æ¥ã€‚å†è§ï¼'
                ];
                return goodbyeResponses[Math.floor(Math.random() * goodbyeResponses.length)];
            }
            
            // æ·±åº¦å¯¹è¯ç›¸å…³
            if (lowerMessage.includes('æ„Ÿè§‰') || lowerMessage.includes('æ„Ÿå—') || lowerMessage.includes('å¿ƒæƒ…') || lowerMessage.includes('æƒ…ç»ª') || lowerMessage.includes('å†…å¿ƒ') || lowerMessage.includes('æƒ³æ³•')) {
                const feelingResponses = [
                    'æ„Ÿè§‰å’Œæƒ…ç»ªæ˜¯æˆ‘ä»¬å†…å¿ƒä¸–ç•Œçš„åæ˜ ã€‚é€šè¿‡å†¥æƒ³å’Œæ”¾æ¾ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç†è§£å’Œæ¥çº³è‡ªå·±çš„æ„Ÿå—ã€‚æ‚¨æ„¿æ„åˆ†äº«ä¸€ä¸‹æ‚¨ç°åœ¨çš„å†…å¿ƒçŠ¶æ€å—ï¼Ÿ',
                    'æƒ…ç»ªæ˜¯æˆ‘ä»¬å†…åœ¨ä½“éªŒçš„é‡è¦éƒ¨åˆ†ã€‚åœ¨å®é™çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ·±å…¥åœ°æ¢ç´¢è‡ªå·±çš„æ„Ÿå—ã€‚æ‚¨ç°åœ¨æœ€æƒ³è¡¨è¾¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ',
                    'å†…å¿ƒçš„æ„Ÿå—å€¼å¾—è¢«è®¤çœŸå¯¹å¾…ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥è‡ªç”±åœ°è¡¨è¾¾æ‚¨çš„æƒ³æ³•å’Œæƒ…ç»ªï¼Œæˆ‘ä¼šé™ªä¼´æ‚¨åº¦è¿‡è¿™æ®µæ¢ç´¢å†…å¿ƒçš„æ—¶é—´ã€‚'
                ];
                return feelingResponses[Math.floor(Math.random() * feelingResponses.length)];
            }
            
            // å‘¼å¸/å†¥æƒ³æŠ€å·§
            if (lowerMessage.includes('å‘¼å¸') || lowerMessage.includes('æ·±å‘¼å¸') || lowerMessage.includes('æŠ€å·§') || lowerMessage.includes('æ–¹æ³•') || lowerMessage.includes('ç»ƒä¹ ')) {
                const breathingResponses = [
                    'æ·±å‘¼å¸æ˜¯ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ”¾æ¾æŠ€å·§ã€‚å»ºè®®æ‚¨é‡‡ç”¨4-4-6çš„å‘¼å¸æ³•ï¼šå¸æ°”4ç§’ï¼Œå±æ¯4ç§’ï¼Œå‘¼æ°”6ç§’ã€‚åœ¨é€‰æ‹©çš„åœºæ™¯ä¸­ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œè®©èº«å¿ƒé€æ¸å¹³é™ä¸‹æ¥ã€‚',
                    'å‘¼å¸ç»ƒä¹ æ˜¯å†¥æƒ³çš„åŸºç¡€ã€‚é€šè¿‡æœ‰æ„è¯†çš„å‘¼å¸ï¼Œæˆ‘ä»¬å¯ä»¥æ¿€æ´»å‰¯äº¤æ„Ÿç¥ç»ç³»ç»Ÿï¼Œé™ä½å¿ƒç‡å’Œè¡€å‹ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•åœºæ™¯ä¸­å®è·µè¿™ä¸ªæŠ€å·§ã€‚',
                    'å‘¼å¸æ˜¯è¿æ¥èº«å¿ƒçš„æ¡¥æ¢ã€‚æ·±è€Œç¼“æ…¢çš„å‘¼å¸æœ‰åŠ©äºæ”¾æ¾ç¥ç»ç³»ç»Ÿï¼Œé‡Šæ”¾ç´§å¼ æƒ…ç»ªã€‚å»ºè®®æ‚¨åœ¨æ”¾æ¾æ—¶ä¸“æ³¨äºå‘¼å¸çš„èŠ‚å¥ã€‚'
                ];
                return breathingResponses[Math.floor(Math.random() * breathingResponses.length)];
            }
            
            // å¥åº·/å…»ç”Ÿç›¸å…³
            if (lowerMessage.includes('å¥åº·') || lowerMessage.includes('å…»ç”Ÿ') || lowerMessage.includes('èº«ä½“') || lowerMessage.includes('èº«å¿ƒ') || lowerMessage.includes('ç–—æ„ˆ') || lowerMessage.includes('æ²»æ„ˆ')) {
                const healthResponses = [
                    'èº«å¿ƒå¥åº·æ˜¯å¹¸ç¦ç”Ÿæ´»çš„åŸºç¡€ã€‚é€šè¿‡å†¥æƒ³å’Œæ”¾æ¾ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ç¼“è§£å¿ƒç†å‹åŠ›ï¼Œè¿˜èƒ½æ”¹å–„èº«ä½“çŠ¶å†µã€‚è§„å¾‹çš„æ”¾æ¾ç»ƒä¹ å¯¹å…ç–«ç³»ç»Ÿã€å¿ƒè¡€ç®¡ç³»ç»Ÿéƒ½æœ‰ç›Šå¤„ã€‚',
                    'èº«å¿ƒä¸€ä½“åŒ–çš„ç–—æ„ˆæ˜¯æœ€æœ‰æ•ˆçš„ã€‚åœ¨å®é™çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬çš„èº«ä½“å’Œå¿ƒçµéƒ½èƒ½å¾—åˆ°å……åˆ†çš„ä¼‘æ¯å’Œæ¢å¤ã€‚æŒç»­çš„æ”¾æ¾ç»ƒä¹ æœ‰åŠ©äºæå‡æ•´ä½“å¥åº·æ°´å¹³ã€‚',
                    'å¥åº·çš„ç”Ÿæ´»æ–¹å¼åŒ…æ‹¬èº«ä½“å’Œå¿ƒç†çš„åŒé‡ç…§é¡¾ã€‚å†¥æƒ³å’Œæ”¾æ¾ä¸ä»…èƒ½å‡è½»å‹åŠ›ï¼Œè¿˜èƒ½æå‡ç¡çœ è´¨é‡ã€å¢å¼ºä¸“æ³¨åŠ›ã€‚æ‚¨å¹³æ—¶æœ‰è¿›è¡Œå“ªäº›å¥åº·æ´»åŠ¨å‘¢ï¼Ÿ'
                ];
                return healthResponses[Math.floor(Math.random() * healthResponses.length)];
            }
            
            // æ—¶é—´ç®¡ç†/ç”Ÿæ´»å¹³è¡¡
            if (lowerMessage.includes('æ—¶é—´') || lowerMessage.includes('å¿™ç¢Œ') || lowerMessage.includes('å¹³è¡¡') || lowerMessage.includes('ç”Ÿæ´»') || lowerMessage.includes('èŠ‚å¥') || lowerMessage.includes('å·¥ä½œ')) {
                const timeResponses = [
                    'ç°ä»£ç”Ÿæ´»çš„å¿«èŠ‚å¥ç¡®å®å®¹æ˜“è®©äººæ„Ÿåˆ°ç–²æƒ«ã€‚å­¦ä¼šåœ¨å¿™ç¢Œä¸­ä¸ºè‡ªå·±åˆ›é€ å®é™æ—¶åˆ»å¾ˆé‡è¦ã€‚å³ä½¿æ¯å¤©åªæœ‰10-15åˆ†é’Ÿçš„å†¥æƒ³æ—¶é—´ï¼Œä¹Ÿèƒ½å¸¦æ¥æ˜¾è‘—çš„æ”¾æ¾æ•ˆæœã€‚',
                    'ç”Ÿæ´»å¹³è¡¡æ˜¯èº«å¿ƒå¥åº·çš„å…³é”®ã€‚åœ¨å·¥ä½œå’Œä¼‘æ¯ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ï¼Œå®šæœŸç»™è‡ªå·±å®‰æ’æ”¾æ¾æ—¶é—´ï¼Œæœ‰åŠ©äºæé«˜å·¥ä½œæ•ˆç‡å’Œç”Ÿæ´»è´¨é‡ã€‚',
                    'æ—¶é—´ç®¡ç†ä¸ä»…å…³ä¹æ•ˆç‡ï¼Œæ›´å…³ä¹èº«å¿ƒå¥åº·ã€‚ä¸ºè‡ªå·±é¢„ç•™å›ºå®šçš„æ”¾æ¾æ—¶é—´ï¼Œå°±åƒå®‰æ’é‡è¦ä¼šè®®ä¸€æ ·ï¼Œè¿™æ ·èƒ½ç¡®ä¿æ‚¨æœ‰è¶³å¤Ÿçš„æ—¶é—´æ¥ç…§é¡¾å†…å¿ƒã€‚'
                ];
                return timeResponses[Math.floor(Math.random() * timeResponses.length)];
            }
            
            // é»˜è®¤å›å¤
            const defaultResponses = [
                'æˆ‘æ˜ç™½äº†ï¼Œæ‚¨æƒ³åˆ†äº«çš„æ˜¯ï¼š"' + userMessage + '"ã€‚è¿™å¬èµ·æ¥å¾ˆæœ‰æ„æ€ã€‚æ‚¨æ„¿æ„è¯¦ç»†è¯´è¯´å—ï¼Ÿåœ¨å®é™çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ·±å…¥åœ°æ¢è®¨è¿™ä¸ªè¯é¢˜ã€‚',
                'æ„Ÿè°¢æ‚¨åˆ†äº«è¿™ä¸ªæƒ³æ³•ã€‚åœ¨æ”¾æ¾çš„çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°å¤„ç†è¿™äº›æƒ³æ³•ã€‚æ‚¨è§‰å¾—å“ªä¸ªåœºæ™¯é€‚åˆæ‚¨ç°åœ¨çš„å¿ƒå¢ƒæ¥ç»§ç»­æˆ‘ä»¬çš„å¯¹è¯ï¼Ÿ',
                'è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„è¯é¢˜ã€‚åœ¨å®é™çš„å¹»å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ…¢æ…¢æ€è€ƒå’Œæ¢ç´¢ã€‚æ‚¨æƒ³æ·±å…¥äº†è§£è¿™ä¸ªè¯é¢˜çš„å“ªä¸ªæ–¹é¢å‘¢ï¼Ÿ',
                'æ‚¨çš„æƒ³æ³•å¾ˆæœ‰ä»·å€¼ã€‚åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ™°åœ°æ€è€ƒã€‚æ‚¨ç°åœ¨æƒ³ä½“éªŒå“ªç§åœºæ™¯æ¥å¸®åŠ©æ‚¨è¿›ä¸€æ­¥æ”¾æ¾å‘¢ï¼Ÿ',
                'æˆ‘ç†è§£æ‚¨æƒ³è¦è¡¨è¾¾çš„ã€‚æœ‰æ—¶å€™ï¼Œä¸ä»–äººåˆ†äº«æ„Ÿå—æœ¬èº«å°±æ˜¯ä¸€ç§æ”¾æ¾ã€‚è¦è¯•è¯•é™è°§æ£®æ—æˆ–å®é™æµ·æ»©å—ï¼Ÿå®ƒä»¬éƒ½èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°è¡¨è¾¾å†…å¿ƒã€‚',
                'è¿™ç¡®å®æ˜¯ä¸€ä¸ªå€¼å¾—æ€è€ƒçš„é—®é¢˜ã€‚åœ¨å®é™çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ·±å…¥åœ°æ¢ç´¢ã€‚æ‚¨è§‰å¾—å“ªç§åœºæ™¯æœ€é€‚åˆæ‚¨ç°åœ¨çš„æ€è€ƒçŠ¶æ€ï¼Ÿ',
                'æ‚¨æåˆ°çš„è¿™ä¸ªè§‚ç‚¹å¾ˆæœ‰æ·±åº¦ã€‚åœ¨æ”¾æ¾çš„çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç†è§£å’Œå¤„ç†å¤æ‚çš„æƒ³æ³•ã€‚æ‚¨ç°åœ¨çš„å¿ƒæƒ…å¦‚ä½•ï¼Ÿ',
                'æˆ‘æ„Ÿå—åˆ°æ‚¨æƒ³è¦è¡¨è¾¾çš„æ„å›¾ã€‚åœ¨è¿™æ ·çš„å¯¹è¯ä¸­ï¼Œé‡è¦çš„æ˜¯æ‰¾åˆ°å†…å¿ƒçš„å¹³é™ã€‚æ‚¨è§‰å¾—å“ªä¸ªåœºæ™¯èƒ½å¸®åŠ©æ‚¨è¾¾åˆ°è¿™ç§çŠ¶æ€ï¼Ÿ',
                'è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„åˆ†äº«ã€‚åœ¨å®é™çš„ç©ºé—´é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ…¢æ…¢æ¶ˆåŒ–å’Œç†è§£è¿™äº›æƒ³æ³•ã€‚æ‚¨å¸Œæœ›æˆ‘ä¸ºæ‚¨æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿ',
                'æ‚¨çš„æ„Ÿå—å’Œæƒ³æ³•éƒ½å€¼å¾—è¢«å€¾å¬ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥è‡ªç”±åœ°è¡¨è¾¾è‡ªå·±ã€‚æ‚¨ç°åœ¨æœ€éœ€è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ'
            ];
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }
        
        // å‘é€æŒ‰é’®äº‹ä»¶
        sendBtn.addEventListener('click', sendMessage);
        
        // å›è½¦å‘é€æ¶ˆæ¯
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.onload = function() {
            createParticles();
            
            // é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªåœºæ™¯
            document.querySelector('.scene-card').click();
        };
    </script>
</body>
</html>
